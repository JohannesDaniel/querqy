<?xml version="1.0" encoding="UTF-8" ?>

<config>

	<luceneMatchVersion>7.0.0</luceneMatchVersion>
	<directoryFactory name="DirectoryFactory" class="solr.RAMDirectoryFactory" />

	<dataDir>${solr.core0.data.dir:}</dataDir>

	<schemaFactory class="ClassicIndexSchemaFactory" />

    <indexConfig>
        <!-- Needed for RAMDirectoryFactory -->
        <lockType>single</lockType>
    </indexConfig>

	<updateHandler class="solr.DirectUpdateHandler2" />

	<requestDispatcher handleSelect="false">
		<requestParsers enableRemoteStreaming="false"
			multipartUploadLimitInKB="2048" formdataUploadLimitInKB="2048" />
	</requestDispatcher>

	<requestHandler name="/select" class="solr.SearchHandler">
		<lst name="defaults">
			<str name="echoParams">all</str>
			<int name="rows">10</int>
			<str name="df">id</str>
		</lst>

	</requestHandler>

	<requestHandler name="standard" class="solr.StandardRequestHandler"
		default="true" />
	<requestHandler name="/analysis/field" startup="lazy"
		class="solr.FieldAnalysisRequestHandler" />

	<queryParser name="querqy_defaults" class="querqy.solr.DefaultQuerqyDismaxQParserPlugin">
		<lst name="rewriteChain">
           <lst name="rewriter">
               <str name="class">querqy.solr.contrib.NumberUnitRewriterFactory</str>
               <str name="floatingPointNumbersForLinearFunctions">5</str>
			   <lst name="numberUnitDefinitions">


				   <lst name="numberUnitDefinition">
					   <lst name="units">
						   <lst name="unit">
							   <str name="term">&quot;</str>
							   <str name="multiplier">1</str>
						   </lst>
						   <lst name="unit">
							   <str name="term">zoll</str>
							   <str name="multiplier">1</str>
						   </lst>
						   <lst name="unit">
							   <str name="term">inch</str>
							   <str name="multiplier">1</str>
						   </lst>
						   <lst name="unit">
							   <str name="term">cm</str>
							   <str name="multiplier">0.393701</str>
						   </lst>
					   </lst>
					   <lst name="fields">
						   <lst name="field">
							   <str name="fieldName">screen_size</str>
							   <str name="floatingPointNumbers">2</str>
						   </lst>
					   </lst>
                       <str name="boostMaxScore">20</str>
                       <str name="boostAddScoreExactMatch">5</str>
                       <str name="boostScoreUp">10</str>
                       <str name="boostScoreDown">10</str>
                       <str name="boostPercentageUp">20</str>
                       <str name="boostPercentageDown">20</str>
                       <str name="filterPercentageUp">20</str>
                       <str name="filterPercentageDown">20</str>
				   </lst>


				   <lst name="numberUnitDefinition">
					   <lst name="units">
						   <lst name="unit">
							   <str name="term">tb</str>
							   <str name="multiplier">1000</str>
						   </lst>
						   <lst name="unit">
							   <str name="term">gb</str>
						   </lst>
					   </lst>
					   <lst name="fields">
						   <lst name="field">
							   <str name="fieldName">disk</str>
							   <str name="floatingPointNumbers">0</str>
						   </lst>
					   </lst>
                       <str name="boostMaxScore">5</str>
                       <str name="boostAddScoreExactMatch">0</str>
                       <str name="boostScoreUp">0</str>
                       <str name="boostScoreDown">0</str>
                       <str name="boostPercentageUp">20</str>
                       <str name="boostPercentageDown">20</str>
                       <str name="filterPercentageUp">30</str>
                       <str name="filterPercentageDown">30</str>
				   </lst>


                   <lst name="numberUnitDefinition">
                       <lst name="units">
                           <lst name="unit">
                               <str name="term">cm</str>
                               <str name="multiplier">1</str>
                           </lst>
                           <lst name="unit">
                               <str name="term">mm</str>
                               <str name="multiplier">0.1</str>
                           </lst>
                       </lst>
                       <lst name="fields">
                           <lst name="field">
                               <str name="fieldName">height</str>
                           </lst>
                           <lst name="field">
                               <str name="fieldName">depth</str>
                           </lst>
                           <lst name="field">
                               <str name="fieldName">width</str>
                           </lst>
                       </lst>
                   </lst>


                   <lst name="numberUnitDefinition">
                       <lst name="units">
                           <lst name="unit">
                               <str name="term">unitUnlimited</str>
                           </lst>
                       </lst>
                       <lst name="fields">
                           <lst name="field">
                               <str name="fieldName">fieldUnlimited</str>
                           </lst>
                       </lst>
                       <str name="filterPercentageUp">-1</str>
                       <str name="filterPercentageDown">-1</str>
                   </lst>


			   </lst>
		   </lst>
     	 </lst>
		 <lst name="parser">
         	<str name="factory">querqy.solr.SimpleQuerqyQParserFactory</str>
         	<str name="class">querqy.parser.WhiteSpaceQuerqyParser</str>
     	 </lst>
     	 
	</queryParser>

	<queryParser name="querqy_no_rw" class="querqy.solr.DefaultQuerqyDismaxQParserPlugin">


	</queryParser>

    <searchComponent name="query" class="querqy.solr.QuerqyQueryComponent"/>


	<admin>
		<defaultQuery>solr</defaultQuery>
	</admin>

</config>

